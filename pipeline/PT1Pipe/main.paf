#<?cfg paf policy ?>

# Unified DC3b PT1.1 main ISR-SFM pipeline policy
framework: {
    type: standard
    environment: "$DATAREL_DIR/bin/runOrca/imsim-setupForOrcaUse.sh"
    exec: "$PEX_HARNESS_DIR/bin/launchPipeline.py"
}

execute: {
    nSlices: 1
    localLogMode: true
    eventBrokerHost: lsst8.ncsa.uiuc.edu
    shutdownTopic: shutdownMain
    dir: {
        shortName: Main
        # Following directory info is OVERLAID
        # by imsim-orca.paf:platform defn
        defaultRoot: .
        runDirPattern: "../../%(runid)s/%(shortname)s"
        work: work
        input: input
        output: output
        update: update
        scratch: scratch
    }

    appStage: {
        name: getAJob
        parallelClass: lsst.ctrl.sched.pipeline.GetAJobParallelProcessing
        eventTopic: None
        stagePolicy: {
            pipelineEvent: CcdJob
        }
    }

    appStage: {
        name: isrInputRaw
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {

                    isrExposure00_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,0"
                            }
                        }
                    }

                    isrExposure00_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,0"
                            }
                        }
                    }

                    isrExposure01_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,1"
                            }
                        }
                    }

                    isrExposure01_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,1"
                            }
                        }
                    }

                    isrExposure02_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,2"
                            }
                        }
                    }

                    isrExposure02_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,2"
                            }
                        }
                    }

                    isrExposure03_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,3"
                            }
                        }
                    }

                    isrExposure03_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,3"
                            }
                        }
                    }

                    isrExposure04_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,4"
                            }
                        }
                    }

                    isrExposure04_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,4"
                            }
                        }
                    }

                    isrExposure05_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,5"
                            }
                        }
                    }

                    isrExposure05_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,5"
                            }
                        }
                    }

                    isrExposure06_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,6"
                            }
                        }
                    }

                    isrExposure06_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,6"
                            }
                        }
                    }

                    isrExposure07_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,7"
                            }
                        }
                    }

                    isrExposure07_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,7"
                            }
                        }
                    }

                    isrExposure10_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,0"
                            }
                        }
                    }

                    isrExposure10_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,0"
                            }
                        }
                    }

                    isrExposure11_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,1"
                            }
                        }
                    }

                    isrExposure11_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,1"
                            }
                        }
                    }

                    isrExposure12_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,2"
                            }
                        }
                    }

                    isrExposure12_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,2"
                            }
                        }
                    }

                    isrExposure13_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,3"
                            }
                        }
                    }

                    isrExposure13_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,3"
                            }
                        }
                    }

                    isrExposure14_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,4"
                            }
                        }
                    }

                    isrExposure14_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,4"
                            }
                        }
                    }

                    isrExposure15_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,5"
                            }
                        }
                    }

                    isrExposure15_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,5"
                            }
                        }
                    }

                    isrExposure16_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,6"
                            }
                        }
                    }

                    isrExposure16_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,6"
                            }
                        }
                    }

                    isrExposure17_0: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,7"
                            }
                        }
                    }

                    isrExposure17_1: {
                        datasetType: raw
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,7"
                            }
                        }
                    }

                }
            }
        }
    }

    appStage: {
        name: isrInput00
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,0"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,0"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,0"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation00_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrOverscan00_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrBias00_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrVariance00_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrDark00_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrFlat00_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure00_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure00_0
            }
        }
    }
    appStage: {
        name: isrSdqa00_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation00_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrOverscan00_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrBias00_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrVariance00_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrDark00_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrFlat00_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure00_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure00_1
            }
        }
    }
    appStage: {
        name: isrSdqa00_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure00_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput00
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,0"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,0"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput01
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,1"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,1"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,1"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation01_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrOverscan01_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrBias01_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrVariance01_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrDark01_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrFlat01_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure01_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure01_0
            }
        }
    }
    appStage: {
        name: isrSdqa01_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation01_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrOverscan01_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrBias01_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrVariance01_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrDark01_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrFlat01_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure01_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure01_1
            }
        }
    }
    appStage: {
        name: isrSdqa01_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure01_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput01
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,1"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,1"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput02
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,2"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,2"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,2"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation02_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrOverscan02_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrBias02_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrVariance02_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrDark02_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrFlat02_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure02_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure02_0
            }
        }
    }
    appStage: {
        name: isrSdqa02_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation02_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrOverscan02_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrBias02_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrVariance02_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrDark02_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrFlat02_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure02_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure02_1
            }
        }
    }
    appStage: {
        name: isrSdqa02_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure02_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput02
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,2"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,2"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput03
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,3"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,3"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,3"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation03_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrOverscan03_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrBias03_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrVariance03_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrDark03_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrFlat03_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure03_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure03_0
            }
        }
    }
    appStage: {
        name: isrSdqa03_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation03_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrOverscan03_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrBias03_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrVariance03_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrDark03_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrFlat03_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure03_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure03_1
            }
        }
    }
    appStage: {
        name: isrSdqa03_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure03_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput03
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,3"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,3"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput04
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,4"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,4"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,4"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation04_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrOverscan04_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrBias04_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrVariance04_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrDark04_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrFlat04_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure04_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure04_0
            }
        }
    }
    appStage: {
        name: isrSdqa04_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation04_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrOverscan04_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrBias04_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrVariance04_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrDark04_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrFlat04_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure04_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure04_1
            }
        }
    }
    appStage: {
        name: isrSdqa04_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure04_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput04
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,4"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,4"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput05
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,5"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,5"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,5"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation05_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrOverscan05_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrBias05_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrVariance05_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrDark05_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrFlat05_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure05_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure05_0
            }
        }
    }
    appStage: {
        name: isrSdqa05_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation05_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrOverscan05_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrBias05_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrVariance05_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrDark05_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrFlat05_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure05_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure05_1
            }
        }
    }
    appStage: {
        name: isrSdqa05_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure05_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput05
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,5"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,5"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput06
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,6"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,6"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,6"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation06_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrOverscan06_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrBias06_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrVariance06_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrDark06_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrFlat06_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure06_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure06_0
            }
        }
    }
    appStage: {
        name: isrSdqa06_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation06_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrOverscan06_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrBias06_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrVariance06_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrDark06_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrFlat06_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure06_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure06_1
            }
        }
    }
    appStage: {
        name: isrSdqa06_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure06_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput06
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,6"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,6"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput07
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,7"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,7"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "0,7"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation07_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrOverscan07_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrBias07_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrVariance07_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrDark07_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrFlat07_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure07_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure07_0
            }
        }
    }
    appStage: {
        name: isrSdqa07_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation07_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrOverscan07_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrBias07_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrVariance07_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrDark07_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrFlat07_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure07_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure07_1
            }
        }
    }
    appStage: {
        name: isrSdqa07_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure07_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput07
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "0,7"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "0,7"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput10
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,0"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,0"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,0"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation10_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrOverscan10_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrBias10_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrVariance10_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrDark10_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrFlat10_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure10_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure10_0
            }
        }
    }
    appStage: {
        name: isrSdqa10_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation10_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrOverscan10_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrBias10_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrVariance10_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrDark10_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrFlat10_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure10_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure10_1
            }
        }
    }
    appStage: {
        name: isrSdqa10_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure10_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput10
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,0"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,0"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput11
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,1"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,1"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,1"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation11_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrOverscan11_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrBias11_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrVariance11_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrDark11_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrFlat11_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure11_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure11_0
            }
        }
    }
    appStage: {
        name: isrSdqa11_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation11_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrOverscan11_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrBias11_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrVariance11_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrDark11_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrFlat11_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure11_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure11_1
            }
        }
    }
    appStage: {
        name: isrSdqa11_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure11_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput11
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,1"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,1"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput12
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,2"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,2"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,2"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation12_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrOverscan12_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrBias12_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrVariance12_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrDark12_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrFlat12_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure12_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure12_0
            }
        }
    }
    appStage: {
        name: isrSdqa12_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation12_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrOverscan12_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrBias12_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrVariance12_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrDark12_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrFlat12_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure12_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure12_1
            }
        }
    }
    appStage: {
        name: isrSdqa12_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure12_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput12
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,2"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,2"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput13
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,3"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,3"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,3"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation13_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrOverscan13_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrBias13_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrVariance13_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrDark13_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrFlat13_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure13_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure13_0
            }
        }
    }
    appStage: {
        name: isrSdqa13_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation13_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrOverscan13_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrBias13_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrVariance13_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrDark13_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrFlat13_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure13_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure13_1
            }
        }
    }
    appStage: {
        name: isrSdqa13_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure13_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput13
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,3"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,3"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput14
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,4"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,4"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,4"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation14_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrOverscan14_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrBias14_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrVariance14_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrDark14_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrFlat14_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure14_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure14_0
            }
        }
    }
    appStage: {
        name: isrSdqa14_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation14_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrOverscan14_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrBias14_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrVariance14_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrDark14_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrFlat14_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure14_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure14_1
            }
        }
    }
    appStage: {
        name: isrSdqa14_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure14_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput14
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,4"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,4"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput15
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,5"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,5"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,5"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation15_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrOverscan15_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrBias15_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrVariance15_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrDark15_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrFlat15_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure15_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure15_0
            }
        }
    }
    appStage: {
        name: isrSdqa15_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation15_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrOverscan15_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrBias15_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrVariance15_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrDark15_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrFlat15_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure15_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure15_1
            }
        }
    }
    appStage: {
        name: isrSdqa15_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure15_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput15
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,5"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,5"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput16
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,6"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,6"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,6"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation16_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrOverscan16_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrBias16_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrVariance16_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrDark16_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrFlat16_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure16_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure16_0
            }
        }
    }
    appStage: {
        name: isrSdqa16_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation16_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrOverscan16_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrBias16_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrVariance16_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrDark16_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrFlat16_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure16_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure16_1
            }
        }
    }
    appStage: {
        name: isrSdqa16_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure16_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput16
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,6"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,6"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrInput17
        parallelClass: lsst.pex.harness.IOStage.InputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(input)
                    }
                }
                inputItems: {
                    biasExposure: {
                        datasetType: bias
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,7"
                            }
                        }
                    }
                    darkExposure: {
                        datasetType: dark
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,7"
                            }
                        }
                    }
                    flatExposure: {
                        datasetType: flat
                        datasetId: {
                            fromJobIdentity: "raft" "sensor"
                            set: {
                                channel: "1,7"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: isrSaturation17_0
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrOverscan17_0
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrBias17_0
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrVariance17_0
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
            }
            outputKeys: {
                varianceAddedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrDark17_0
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrFlat17_0
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure17_0
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure17_0
            }
        }
    }
    appStage: {
        name: isrSdqa17_0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_0
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
            }
        }
    }

    appStage: {
        name: isrSaturation17_1
        parallelClass: lsst.ip.pipeline.IsrSaturationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
            }
            outputKeys: {
                saturationMaskedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrOverscan17_1
        parallelClass: lsst.ip.pipeline.IsrOverscanStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
            }
            outputKeys: {
                overscanCorrectedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrBias17_1
        parallelClass: lsst.ip.pipeline.IsrBiasStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
                biasexposure: biasExposure
            }
            outputKeys: {
                biasSubtractedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrVariance17_1
        parallelClass: lsst.ip.pipeline.IsrVarianceStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
            }
            outputKeys: {
                varianceAddedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrDark17_1
        parallelClass: lsst.ip.pipeline.IsrDarkStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
                darkexposure: darkExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrFlat17_1
        parallelClass: lsst.ip.pipeline.IsrFlatStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
                flatexposure: flatExposure
            }
            outputKeys: {
                darkSubtractedExposure: isrExposure17_1
            }
            parameters: {
                flatScalingValue: 1.0
            }
            outputKeys: {
                flatCorrectedExposure: isrExposure17_1
            }
        }
    }
    appStage: {
        name: isrSdqa17_1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrExposure17_1
            }
            parameters: {
                sdqaRatingScope: 0
                sdqaMetricNames: "overscanMean"
                sdqaMetricNames: "overscanMedian"
                sdqaMetricNames: "overscanStdDev"
                sdqaMetricNames: "overscanMin"
                sdqaMetricNames: "overscanMax"
            }
            outputKeys: {
                isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
            }
        }
    }

    appStage: {
        name: isrOutput17
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                                channel: "1,7"
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaAmp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                                channel: "1,7"
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: ccdList0
        parallelClass: lsst.datarel.CcdListStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {

                exposure00: isrExposure00_0

                exposure01: isrExposure01_0

                exposure02: isrExposure02_0

                exposure03: isrExposure03_0

                exposure04: isrExposure04_0

                exposure05: isrExposure05_0

                exposure06: isrExposure06_0

                exposure07: isrExposure07_0

                exposure10: isrExposure10_0

                exposure11: isrExposure11_0

                exposure12: isrExposure12_0

                exposure13: isrExposure13_0

                exposure14: isrExposure14_0

                exposure15: isrExposure15_0

                exposure16: isrExposure16_0

                exposure17: isrExposure17_0

            }
            outputKeys: {
                exposureList: exposureList0
            }
        }
    }
    appStage: {
        name: isrCcdAssembly0
        parallelClass: lsst.ip.pipeline.IsrCcdAssemblyStageParallel
        eventTopic: None
        outputKeys: {
            assembledCcdExposure: isrExposure0
        }
    }
    appStage: {
        name: isrCcdDefect0
        parallelClass: lsst.ip.pipeline.IsrCcdDefectStageParallel
        eventTopic: None
        inputKeys: {
            ccdExposure: isrExposure0
        }
        outputKeys: {
            ccdExposure: isrExposure0
        }
    }
    appStage: {
        name: isrCcdSdqa0
        parallelClass: lsst.ip.pipeline.IsrCcdSdqaStageParallel
        eventTopic: None
        inputKeys: {
            ccdExposure: isrExposure0
        }
        outputKeys: {
            sdqaCcdExposure: isrExposure0
        }
    }
    appStage: {
        name: isrSdqa0
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        inputKeys: {
            exposureKey: isrExposure0
        }
        parameters: {
            sdqaRatingScope: 1
            sdqaMetricNames: "imageClipMean4Sig3Pass"
            sdqaMetricNames: "imageMedian"
            sdqaMetricNames: "imageSigma"
            sdqaMetricNames: "nBadCalibPix"
            sdqaMetricNames: "nSaturatePix"
            sdqaMetricNames: "imageMin"
            sdqaMetricNames: "imageMax"
        }
        outputKeys: {
            isrPersistableSdqaRatingVectorKey: sdqaRatingVector0
        }
    }

    appStage: {
        name: ccdList1
        parallelClass: lsst.datarel.CcdListStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {

                exposure00: isrExposure00_1

                exposure01: isrExposure01_1

                exposure02: isrExposure02_1

                exposure03: isrExposure03_1

                exposure04: isrExposure04_1

                exposure05: isrExposure05_1

                exposure06: isrExposure06_1

                exposure07: isrExposure07_1

                exposure10: isrExposure10_1

                exposure11: isrExposure11_1

                exposure12: isrExposure12_1

                exposure13: isrExposure13_1

                exposure14: isrExposure14_1

                exposure15: isrExposure15_1

                exposure16: isrExposure16_1

                exposure17: isrExposure17_1

            }
            outputKeys: {
                exposureList: exposureList1
            }
        }
    }
    appStage: {
        name: isrCcdAssembly1
        parallelClass: lsst.ip.pipeline.IsrCcdAssemblyStageParallel
        eventTopic: None
        outputKeys: {
            assembledCcdExposure: isrExposure1
        }
    }
    appStage: {
        name: isrCcdDefect1
        parallelClass: lsst.ip.pipeline.IsrCcdDefectStageParallel
        eventTopic: None
        inputKeys: {
            ccdExposure: isrExposure1
        }
        outputKeys: {
            ccdExposure: isrExposure1
        }
    }
    appStage: {
        name: isrCcdSdqa1
        parallelClass: lsst.ip.pipeline.IsrCcdSdqaStageParallel
        eventTopic: None
        inputKeys: {
            ccdExposure: isrExposure1
        }
        outputKeys: {
            sdqaCcdExposure: isrExposure1
        }
    }
    appStage: {
        name: isrSdqa1
        parallelClass: lsst.sdqa.pipeline.IsrSdqaStageParallel
        eventTopic: None
        inputKeys: {
            exposureKey: isrExposure1
        }
        parameters: {
            sdqaRatingScope: 1
            sdqaMetricNames: "imageClipMean4Sig3Pass"
            sdqaMetricNames: "imageMedian"
            sdqaMetricNames: "imageSigma"
            sdqaMetricNames: "nBadCalibPix"
            sdqaMetricNames: "nSaturatePix"
            sdqaMetricNames: "imageMin"
            sdqaMetricNames: "imageMax"
        }
        outputKeys: {
            isrPersistableSdqaRatingVectorKey: sdqaRatingVector1
        }
    }

    appStage: {
        name: ccdAssemblyOutput
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sdqaRatingVector0: {
                        datasetType: sdqaCcd
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 0
                            }
                        }
                    }
                    sdqaRatingVector1: {
                        datasetType: sdqaCcd
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                            set: {
                                snap: 1
                            }
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: ccdAssemblyFixup
        parallelClass: lsst.datarel.CcdAssemblyFixupStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                isrCcdExposure0: isrExposure0
                isrCcdExposure1: isrExposure1
            }
            # Set exposure midtimes
            # Delete all other items on the clipboard
            outputKeys: {
                isrCcdExposure0: isrCcdExposure0
                isrCcdExposure1: isrCcdExposure1
            }
        }
    }

    appStage: {
        name: backgroundEstimation0
        parallelClass: lsst.meas.pipeline.BackgroundEstimationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrCcdExposure0
            }
            outputKeys: {
                backgroundSubtractedExposure: bkgSubCcdExposure0
            }
            parameters: {
                subtractBackground: true
                backgroundPolicy: {
                    binsize: 512
                }
            }
    }
    appStage: {
        name: backgroundEstimation1
        parallelClass: lsst.meas.pipeline.BackgroundEstimationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: isrCcdExposure1
            }
            outputKeys: {
                backgroundSubtractedExposure: bkgSubCcdExposure1
            }
            parameters: {
                subtractBackground: true
                backgroundPolicy: {
                    binsize: 512
                }
            }
        }
    }
    appStage: {
        name: crReject0
        parallelClass: lsst.ip.pipeline.CrRejectStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: bkgSubCcdExposure0
            }
            outputKeys: {
                exposure: visitim
                exposure: crSubCcdExposure0
            }
            parameters: {
                defaultFwhm: 1.0
                keepCRs: false
            }
            crRejectPolicy: {
                nCrPixelMax: 100000
            }
        }
    }
    appStage: {
        name: crReject1
        parallelClass: lsst.ip.pipeline.CrRejectStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: bkgSubCcdExposure1
            }
            outputKeys: {
                exposure: crSubCcdExposure1
            }
            parameters: {
                defaultFwhm: 1.0
                keepCRs: false
            }
            crRejectPolicy: {
                nCrPixelMax: 100000
            }
        }
    }
    

    appStage: {
        name: crRejectFixup
        parallelClass: lsst.datarel.CrRejectFixupStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                visitExposure: crSubCcdExposure0
            }
            # Handle any processing due to use of only one snap
            # Delete all other items on the clipboard
            outputKeys: {
                visitExposure: visitExposure
            }
        }
    }

    appStage: {
        name: icSourceDetect
        parallelClass: lsst.meas.pipeline.SourceDetectionStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: visitExposure
            }
            outputKeys: {
                positiveDetection: positiveFootprintSet
                negativeDetection: negativeFootprintSet
                psf: simplePsf
            }
            psfPolicy: {
                height: 5
                width: 5
                parameter: 1.0
            }
            backgroundPolicy: {
                algorithm: NONE
            }
        }
    }
    appStage: {
        name: icSourceMeasure
        parallelClass: lsst.meas.pipeline.SourceMeasurementStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: visitExposure
                psf: simplePsf
                positiveDetection: positiveFootprintSet
                negativeDetection: negativeFootprintSet
            }
            outputKeys: {
                sources: sourceSet
            }
        }
    }
    appStage: {
        name: psfDetermination
        parallelClass: lsst.meas.pipeline.PsfDeterminationStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: visitExposure
                sourceSet: sourceSet
            }
            outputKeys: {
                psf: measuredPsf
                cellSet: cellSet
                sdqa: sdqa
            }
        }
    }
    appStage: {
        name: wcsDetermination
        parallelClass: lsst.meas.pipeline.WcsDeterminationStageParallel
        eventTopic: None
        stagePolicy: {
            inputExposureKey: visitExposure
            inputSourceSetKey: sourceSet
            outputWcsKey: measuredWcs
            outputMatchListKey: matchList
            numBrightStars: 150
            defaultFilterName: mag
        }
    }
    appStage: {
        name: wcsVerification
        parallelClass: lsst.meas.pipeline.WcsVerificationStageParallel
        eventTopic: None
        stagePolicy: {
            sourceMatchSetKey: matchList
        }
    }
    appStage: {
        name: photoCal
        parallelClass: lsst.meas.pipeline.PhotoCalStageParallel
        eventTopic: None
        stagePolicy: {
            sourceMatchSetKey: matchList
            outputValueKey: photometricMagnitudeObject
        }
    }

    appStage: {
        name: imgCharOutput
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sourceSet_persistable: {
                        datasetType: icSrc
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                        }
                    }
                    measuredPsf: {
                        datasetType: psf
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                        }
                    }
                    visitExposure: {
                        datasetType: calexp
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: imgCharCleanup
        parallelClass: lsst.datarel.CleanupStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                calibratedExposure: visitExposure
                psf: measuredPsf
            }
            # Delete all other items on the clipboard
            outputKeys: {
                calibratedExposure: scienceExposure
                psf: psf
            }
        }
    }

    appStage: {
        name: sfmSourceDetect
        parallelClass: lsst.meas.pipeline.SourceDetectionStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: scienceExposure
                psf: psf
            }
            outputKeys: {
                positiveDetection: positiveFootprintSet
            }
            backgroundPolicy: {
                algorithm: NONE
            }
        }
    }
    appStage: {
        name: sfmSourceMeasure
        parallelClass: lsst.meas.pipeline.SourceMeasurementStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                exposure: scienceExposure
                psf: psf
                positiveDetection: positiveFootprintSet
            }
            outputKeys: {
                sources: sourceSet
            }
        }
    }
    appStage: {
        name: computeSourceSkyCoords
        parallelClass: lsst.meas.pipeline.ComputeSourceSkyCoordsStageParallel
        eventTopic: None
        stagePolicy: {
            inputKeys: {
                sources: sourceSet
                exposure: scienceExposure
            }
        }
    }

    appStage: {
        name: sfmOutput
        parallelClass: lsst.pex.harness.IOStage.OutputStageParallel
        eventTopic: None
        stagePolicy: {
            parameters: {
                butler: {
                    mapperName: lsst.obs.lsstSim.lsstSimMapper
                    mapperPolicy: {
                        root: %(update)
                    }
                }
                outputItems: {
                    sourceSet_persistable: {
                        datasetType: src
                        datasetId: {
                            fromJobIdentity: "visit" "raft" "sensor"
                        }
                    }
                }
            }
        }
    }

    appStage: {
        name: jobDone
        parallelClass: lsst.ctrl.sched.pipeline.JobDoneParallelProcessing
        eventTopic: None
        stagePolicy: {
            pipelineEvent:  CcdJob
            datasets.dataReadyEvent:  CalexpAvailable
        }
    }
    failureStage: {
        name: failure
        parallelClass: lsst.ctrl.sched.pipeline.JobDoneParallelProcessing
        eventTopic: None
        stagePolicy: {
            pipelineEvent:  CcdJob
            datasets.dataReadyEvent:  CalexpAvailable
            jobSuccess: false
        }
    }
}
