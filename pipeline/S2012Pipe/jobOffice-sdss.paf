#<?cfg paf policy ?>

# PT1Pipe/joboffice.paf

name:  PT1Pipe
persist.dir:  %(schedroot)s/%(name)s-joboffice

listen: {
    brokerHostName:      lsst8.ncsa.uiuc.edu
    dataReadyEvent:      RawCcdAvailable
    pipelineEvent:       CcdJob
    stopEvent:           workflowShutdown
}

schedule: {
    trigger: {
        datasetType: raw
    }

    job: {
        input: {
            datasetType: raw
            id: {
              name: run
            }
            id: {
              name: filter
            }
            id: {
              name: camcol
            }
            id: {
              name: field
            }
        }
        output: {
            datasetType: calexp
            id: {
              name: run
            }
            id: {
              name: filter
            }
            id: {
              name: camcol
            }
            id: {
              name: field
            }
        }
        output: {
            datasetType: psf
            id: {
              name: run
            }
            id: {
              name: filter
            }
            id: {
              name: camcol
            }
            id: {
              name: field
            }
        }
        output: {
            datasetType: src
            id: {
              name: run
            }
            id: {
              name: filter
            }
            id: {
              name: camcol
            }
            id: {
              name: field
            }
        }
    }
}
